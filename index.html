<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="src/css/xmas-pi.css"/>
       
        <title>X-Mas</title>
    <body>
        <div class ="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button id="frame-counter" class="btn">1</button>
            </div>
        </div> 
        <div id="tree-wrapper" class="text-center">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="1" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="2" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>                    
                        <i class="fa fa-square-o fa-2x visible-sm"></i>                   
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="3" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="4" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>          
                        <i class="fa fa-square-o fa-3x visible-md"></i>     
                        <i class="fa fa-square-o fa-2x visible-sm"></i>     
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="5" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>          
                        <i class="fa fa-square-o fa-3x visible-md"></i>          
                        <i class="fa fa-square-o fa-2x visible-sm"></i>           
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="6" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="7" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="8" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="9" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="10" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="11" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="12" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="13" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="14" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="15" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="16" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="17" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="18" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="19" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="20" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="21" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="22" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="23" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="24" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="25" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="26" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="27" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="28" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="29" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="30" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="31" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="32" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="33" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="34" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="35" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="36" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="37" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button id="38" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="39" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                    <button id="40" class="btn btn-link light">
                        <i class="fa fa-square-o fa-3x visible-lg"></i>
                        <i class="fa fa-square-o fa-3x visible-md"></i>
                        <i class="fa fa-square-o fa-2x visible-sm"></i>
                        <i class="fa fa-square-o fa-lg visible-xs"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button id="next-frame" class="btn btn-link">
                    Next frame</button>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button id="add-frame" class="btn btn-link">
                    Add frame</button>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button id="previous-frame" class="btn btn-link">
                    Previous frame</button>
            </div>
        </div>
    </body>  
    <!-- SCRIPTS -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js" ></script>
    <script type="text/javascript" src="src/js/xmas-pi.js"></script>
    <!-- LIGHT BULB TOGGLING -->
    <script>
    var toggleLightBulb = function($this) {
        var id = $this.id-1;
        console.log(id);

        if ($this.value === '1') {
            $($this).find('i').each(function(index, value) {
                $(value).removeClass('fa-square').addClass('fa-square-o');
            });
            $this.value = '0';
            console.log('Light ' + $this.id + ' :' + $this.name + ' turned off');
            $('tree-wrapper').assignValue(id, $this.value);
        } else {
            $($this).find('i').each(function(index, value) {
                $(value).removeClass('fa-square-o').addClass('fa-square');
            });
            $this.value = '1';
            $('tree-wrapper').assignValue(id, $this.value);
            console.log('Light ' + $this.id + ' :' + $this.name + ' turned on');
        }
    }
    
    $('button.light').click(function() {
            toggleLightBulb(this)
    });
    </script>
    <script>
        // stupid fucking firefox 
        jQuery(function($) {
            $('#next-frame').click(function() {
                 $('#tree-wrapper').nextFrame();
                 $('#frame-counter').html($().getFramesCount());
            });
            $('#previous-frame').click(function() {
                 $('#tree-wrapper').previousFrame();
                 $('#frame-counter').html($().getFramesCount());
            });
            $('#add-frame').click(function() {
                $('#tree-wrapper').addFrame();    
                $('#frame-counter').html($().getFramesCount());
            });
        })
    </script>
</html>
